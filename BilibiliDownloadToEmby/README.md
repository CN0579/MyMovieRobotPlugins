# emby哔哩哔哩视频下载刮削 （自用版）

**本插件仅供学习交流使用，不得用于商业用途，如有侵权请联系我删除**

**本插件是学习 Python 的过程中，边学边写出来的程序，可能存在 bug 连篇 ，逻辑让人无法接受，南辕北辙，代码无法让人直视等副作用。
**

## Feature：

1. 追更up主（由于b站api原因，**遇到分p视频将跳过**，不会下载）
2. 刮削视频信息和up主信息（请确保打开mr“生成中文演员信息”开关并挂载emby演员目录）（无竖版封面，强迫症请谨慎考虑使用此插件）
3. 扫码登录b站，在登录过期时插件会提醒
4. 针对多p视频优化刮削（**实验性功能**，非必要不使用）

## 一些说明：

登录过程：插件启动时没cookie会自动发二维码到mr设置的通知渠道，扫码登录后会自动保存cookie到本地。如果在插件运行期间cookie失效，会发送消息提醒用户手动登录（每次登录最多只会重发5次二维码）

下载目录：单视频下载到mr中类型为“电影”的媒体目录，多p视频下载到mr中类型为“剧集”的媒体目录。子目录名字均为“bilibili”

分p视频：请务必下载**3集**以内的分p视频，否则可能会出现不可预见的错误（最好别使用。。。我还没整完）

追更：如果在上次检测更新时间点之后，up主更新了超过一个视频（不过我觉得5分钟之内更两个视频不可能吧），则只会下载最新的一个视频（实际上是我不想写更复杂的逻辑了...）。同理，mr宕机恢复后也只会下载最新视频

## changelog：

2022/12/13 追更和登录功能都完善了，基本可用。但多p视频有很大问题。。。