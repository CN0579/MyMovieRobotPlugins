# emby哔哩哔哩视频下载刮削 （自用版）

**本插件仅供学习交流使用，不得用于商业用途，如有侵权请联系我删除**

**本插件是学习 Python 的过程中，边学边写出来的程序，可能存在 bug 连篇 ，逻辑让人无法接受，南辕北辙，代码无法让人直视等副作用。
**

## Feature：

1. 追更up主（由于b站api原因，**遇到分p视频将跳过**，不会下载）
2. 刮削视频信息和up主信息（请确保打开mr“生成中文演员信息”开关并挂载emby演员目录）（无竖版封面，强迫症请谨慎考虑使用此插件）
3. 扫码登录b站，在登录过期时插件会提醒
4. 针对多p视频优化刮削（**实验性功能**，非必要不使用）
5. 附带下载弹幕

## 一些说明：

我想提需求：欢迎提pr共建开源项目

登录过程：插件启动或配置更新时没cookie会自动发二维码到mr设置的通知渠道，扫码登录后会保存cookie到本地。如果在插件运行期间cookie失效，会发送消息提醒用户手动登录，不会自动发送二维码（每次登录最多只会重发3次二维码）

下载目录：单视频下载到mr中类型为“电影”的媒体目录，多p视频下载到mr中类型为“剧集”的媒体目录。子目录名字均为“bilibili”

分p视频：请务必下载**3集**以内的分p视频，否则可能会出现不可预见的错误（分p视频下载和重试真的很不稳定。。。出问题别找我~）

追更：如果在两次检查更新时间点之间（也就是5分钟）up主更新了多个视频，则会依次下载这些视频，不会再出现丢视频情况

修改弹幕格式：位于`process_pages_video.py`中第299行左右和`bilibili_main.py`第441行左右，我写的有注释，会改的可以改

## changelog：

2022/12/13 第一个能用的稳定版本，等我测几天。。。